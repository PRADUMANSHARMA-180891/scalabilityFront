{"ast":null,"code":"//our conceptual 'break-points' for each unit\nimport { unitsString } from \"../../data/units.js\";\nimport { almostString, overString } from \"../../data/distance.js\";\nconst qualifiers = {\n  months: {\n    almost: 10,\n    over: 4\n  },\n  days: {\n    almost: 25,\n    over: 10\n  },\n  hours: {\n    almost: 20,\n    over: 8\n  },\n  minutes: {\n    almost: 50,\n    over: 20\n  },\n  seconds: {\n    almost: 50,\n    over: 20\n  }\n};\n\n// Expects a plural unit arg\nfunction pluralize(value, unit) {\n  if (value === 1) {\n    return value + ' ' + unitsString(unit.slice(0, -1));\n  }\n  return value + ' ' + unitsString(unit);\n}\nconst toSoft = function (diff) {\n  let rounded = null;\n  let qualified = null;\n  let abbreviated = [];\n  let englishValues = [];\n  //go through each value and create its text-representation\n  Object.keys(diff).forEach((unit, i, units) => {\n    const value = Math.abs(diff[unit]);\n    if (value === 0) {\n      return;\n    }\n    abbreviated.push(value + unit[0]);\n    const englishValue = pluralize(value, unit);\n    englishValues.push(englishValue);\n    if (!rounded) {\n      rounded = englishValue;\n      qualified = englishValue;\n      if (i > 4) {\n        return;\n      }\n      //is it a 'almost' something, etc?\n      const nextUnit = units[i + 1];\n      const nextValue = Math.abs(diff[nextUnit]);\n      if (nextValue > qualifiers[nextUnit].almost) {\n        rounded = pluralize(value + 1, unit);\n        qualified = almostString() + ' ' + rounded;\n      } else if (nextValue > qualifiers[nextUnit].over) {\n        qualified = overString() + ' ' + englishValue;\n      }\n    }\n  });\n  return {\n    qualified,\n    rounded,\n    abbreviated,\n    englishValues\n  };\n};\nexport default toSoft;","map":{"version":3,"names":["unitsString","almostString","overString","qualifiers","months","almost","over","days","hours","minutes","seconds","pluralize","value","unit","slice","toSoft","diff","rounded","qualified","abbreviated","englishValues","Object","keys","forEach","i","units","Math","abs","push","englishValue","nextUnit","nextValue"],"sources":["C:/Users/econs/OneDrive/Documents/scalability_frontend/admin-dashboard/node_modules/spacetime/src/methods/since/soften.js"],"sourcesContent":["//our conceptual 'break-points' for each unit\nimport { unitsString } from \"../../data/units.js\";\nimport { almostString, overString } from \"../../data/distance.js\";\n\nconst qualifiers = {\n  months: {\n    almost: 10,\n    over: 4\n  },\n  days: {\n    almost: 25,\n    over: 10\n  },\n  hours: {\n    almost: 20,\n    over: 8\n  },\n  minutes: {\n    almost: 50,\n    over: 20\n  },\n  seconds: {\n    almost: 50,\n    over: 20\n  }\n}\n\n// Expects a plural unit arg\nfunction pluralize(value, unit) {\n  if (value === 1) {\n    return value + ' ' + unitsString(unit.slice(0, -1))\n  }\n  return value + ' ' + unitsString(unit)\n}\n\nconst toSoft = function (diff) {\n  let rounded = null\n  let qualified = null\n  let abbreviated = []\n  let englishValues = []\n  //go through each value and create its text-representation\n  Object.keys(diff).forEach((unit, i, units) => {\n    const value = Math.abs(diff[unit])\n    if (value === 0) {\n      return\n    }\n    abbreviated.push(value + unit[0])\n    const englishValue = pluralize(value, unit)\n    englishValues.push(englishValue)\n    if (!rounded) {\n      rounded = englishValue\n      qualified = englishValue\n      if (i > 4) {\n        return\n      }\n      //is it a 'almost' something, etc?\n      const nextUnit = units[i + 1]\n      const nextValue = Math.abs(diff[nextUnit])\n      if (nextValue > qualifiers[nextUnit].almost) {\n        rounded = pluralize(value + 1, unit)\n        qualified = almostString() + ' ' + rounded\n      } else if (nextValue > qualifiers[nextUnit].over) {\n        qualified = overString() + ' ' + englishValue\n      }\n    }\n  })\n\n  return { qualified, rounded, abbreviated, englishValues }\n}\nexport default toSoft\n"],"mappings":"AAAA;AACA,SAASA,WAAW,QAAQ,qBAAqB;AACjD,SAASC,YAAY,EAAEC,UAAU,QAAQ,wBAAwB;AAEjE,MAAMC,UAAU,GAAG;EACjBC,MAAM,EAAE;IACNC,MAAM,EAAE,EAAE;IACVC,IAAI,EAAE;EACR,CAAC;EACDC,IAAI,EAAE;IACJF,MAAM,EAAE,EAAE;IACVC,IAAI,EAAE;EACR,CAAC;EACDE,KAAK,EAAE;IACLH,MAAM,EAAE,EAAE;IACVC,IAAI,EAAE;EACR,CAAC;EACDG,OAAO,EAAE;IACPJ,MAAM,EAAE,EAAE;IACVC,IAAI,EAAE;EACR,CAAC;EACDI,OAAO,EAAE;IACPL,MAAM,EAAE,EAAE;IACVC,IAAI,EAAE;EACR;AACF,CAAC;;AAED;AACA,SAASK,SAASA,CAACC,KAAK,EAAEC,IAAI,EAAE;EAC9B,IAAID,KAAK,KAAK,CAAC,EAAE;IACf,OAAOA,KAAK,GAAG,GAAG,GAAGZ,WAAW,CAACa,IAAI,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACrD;EACA,OAAOF,KAAK,GAAG,GAAG,GAAGZ,WAAW,CAACa,IAAI,CAAC;AACxC;AAEA,MAAME,MAAM,GAAG,SAAAA,CAAUC,IAAI,EAAE;EAC7B,IAAIC,OAAO,GAAG,IAAI;EAClB,IAAIC,SAAS,GAAG,IAAI;EACpB,IAAIC,WAAW,GAAG,EAAE;EACpB,IAAIC,aAAa,GAAG,EAAE;EACtB;EACAC,MAAM,CAACC,IAAI,CAACN,IAAI,CAAC,CAACO,OAAO,CAAC,CAACV,IAAI,EAAEW,CAAC,EAAEC,KAAK,KAAK;IAC5C,MAAMb,KAAK,GAAGc,IAAI,CAACC,GAAG,CAACX,IAAI,CAACH,IAAI,CAAC,CAAC;IAClC,IAAID,KAAK,KAAK,CAAC,EAAE;MACf;IACF;IACAO,WAAW,CAACS,IAAI,CAAChB,KAAK,GAAGC,IAAI,CAAC,CAAC,CAAC,CAAC;IACjC,MAAMgB,YAAY,GAAGlB,SAAS,CAACC,KAAK,EAAEC,IAAI,CAAC;IAC3CO,aAAa,CAACQ,IAAI,CAACC,YAAY,CAAC;IAChC,IAAI,CAACZ,OAAO,EAAE;MACZA,OAAO,GAAGY,YAAY;MACtBX,SAAS,GAAGW,YAAY;MACxB,IAAIL,CAAC,GAAG,CAAC,EAAE;QACT;MACF;MACA;MACA,MAAMM,QAAQ,GAAGL,KAAK,CAACD,CAAC,GAAG,CAAC,CAAC;MAC7B,MAAMO,SAAS,GAAGL,IAAI,CAACC,GAAG,CAACX,IAAI,CAACc,QAAQ,CAAC,CAAC;MAC1C,IAAIC,SAAS,GAAG5B,UAAU,CAAC2B,QAAQ,CAAC,CAACzB,MAAM,EAAE;QAC3CY,OAAO,GAAGN,SAAS,CAACC,KAAK,GAAG,CAAC,EAAEC,IAAI,CAAC;QACpCK,SAAS,GAAGjB,YAAY,CAAC,CAAC,GAAG,GAAG,GAAGgB,OAAO;MAC5C,CAAC,MAAM,IAAIc,SAAS,GAAG5B,UAAU,CAAC2B,QAAQ,CAAC,CAACxB,IAAI,EAAE;QAChDY,SAAS,GAAGhB,UAAU,CAAC,CAAC,GAAG,GAAG,GAAG2B,YAAY;MAC/C;IACF;EACF,CAAC,CAAC;EAEF,OAAO;IAAEX,SAAS;IAAED,OAAO;IAAEE,WAAW;IAAEC;EAAc,CAAC;AAC3D,CAAC;AACD,eAAeL,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}