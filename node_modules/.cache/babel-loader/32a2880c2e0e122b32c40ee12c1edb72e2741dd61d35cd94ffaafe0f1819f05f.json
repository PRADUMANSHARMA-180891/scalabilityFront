{"ast":null,"code":"import { normalize } from '../fns.js';\nimport { short, long } from '../data/days.js';\n\n//is it 'wednesday'?\nconst isDay = function (unit) {\n  if (short().find(s => s === unit)) {\n    return true;\n  }\n  if (long().find(s => s === unit)) {\n    return true;\n  }\n  return false;\n};\n\n// return a list of the weeks/months/days between a -> b\n// returns spacetime objects in the timezone of the input\nconst every = function (start, unit, end, stepCount = 1) {\n  if (!unit || !end) {\n    return [];\n  }\n  //cleanup unit param\n  unit = normalize(unit);\n  //cleanup to param\n  end = start.clone().set(end);\n  //swap them, if they're backwards\n  if (start.isAfter(end)) {\n    let tmp = start;\n    start = end;\n    end = tmp;\n  }\n  //prevent going beyond end if unit/stepCount > than the range\n  if (start.diff(end, unit) < stepCount) {\n    return [];\n  }\n  //support 'every wednesday'\n  let d = start.clone();\n  if (isDay(unit)) {\n    d = d.next(unit);\n    unit = 'week';\n  } else {\n    let first = d.startOf(unit);\n    if (first.isBefore(start)) {\n      d = d.next(unit);\n    }\n  }\n  //okay, actually start doing it\n  let result = [];\n  while (d.isBefore(end)) {\n    result.push(d);\n    d = d.add(stepCount, unit);\n  }\n  return result;\n};\nexport default every;","map":{"version":3,"names":["normalize","short","long","isDay","unit","find","s","every","start","end","stepCount","clone","set","isAfter","tmp","diff","d","next","first","startOf","isBefore","result","push","add"],"sources":["C:/Users/econs/OneDrive/Documents/scalability_frontend/admin-dashboard/node_modules/spacetime/src/methods/every.js"],"sourcesContent":["import { normalize } from '../fns.js'\nimport { short, long } from '../data/days.js'\n\n//is it 'wednesday'?\nconst isDay = function (unit) {\n  if (short().find((s) => s === unit)) {\n    return true\n  }\n  if (long().find((s) => s === unit)) {\n    return true\n  }\n  return false\n}\n\n// return a list of the weeks/months/days between a -> b\n// returns spacetime objects in the timezone of the input\nconst every = function (start, unit, end, stepCount = 1) {\n  if (!unit || !end) {\n    return []\n  }\n  //cleanup unit param\n  unit = normalize(unit)\n  //cleanup to param\n  end = start.clone().set(end)\n  //swap them, if they're backwards\n  if (start.isAfter(end)) {\n    let tmp = start\n    start = end\n    end = tmp\n  }\n  //prevent going beyond end if unit/stepCount > than the range\n  if (start.diff(end, unit) < stepCount) {\n    return []\n  }\n  //support 'every wednesday'\n  let d = start.clone()\n  if (isDay(unit)) {\n    d = d.next(unit)\n    unit = 'week'\n  } else {\n    let first = d.startOf(unit)\n    if (first.isBefore(start)) {\n      d = d.next(unit)\n    }\n  }\n  //okay, actually start doing it\n  let result = []\n  while (d.isBefore(end)) {\n    result.push(d)\n    d = d.add(stepCount, unit)\n  }\n  return result\n}\nexport default every\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,WAAW;AACrC,SAASC,KAAK,EAAEC,IAAI,QAAQ,iBAAiB;;AAE7C;AACA,MAAMC,KAAK,GAAG,SAAAA,CAAUC,IAAI,EAAE;EAC5B,IAAIH,KAAK,CAAC,CAAC,CAACI,IAAI,CAAEC,CAAC,IAAKA,CAAC,KAAKF,IAAI,CAAC,EAAE;IACnC,OAAO,IAAI;EACb;EACA,IAAIF,IAAI,CAAC,CAAC,CAACG,IAAI,CAAEC,CAAC,IAAKA,CAAC,KAAKF,IAAI,CAAC,EAAE;IAClC,OAAO,IAAI;EACb;EACA,OAAO,KAAK;AACd,CAAC;;AAED;AACA;AACA,MAAMG,KAAK,GAAG,SAAAA,CAAUC,KAAK,EAAEJ,IAAI,EAAEK,GAAG,EAAEC,SAAS,GAAG,CAAC,EAAE;EACvD,IAAI,CAACN,IAAI,IAAI,CAACK,GAAG,EAAE;IACjB,OAAO,EAAE;EACX;EACA;EACAL,IAAI,GAAGJ,SAAS,CAACI,IAAI,CAAC;EACtB;EACAK,GAAG,GAAGD,KAAK,CAACG,KAAK,CAAC,CAAC,CAACC,GAAG,CAACH,GAAG,CAAC;EAC5B;EACA,IAAID,KAAK,CAACK,OAAO,CAACJ,GAAG,CAAC,EAAE;IACtB,IAAIK,GAAG,GAAGN,KAAK;IACfA,KAAK,GAAGC,GAAG;IACXA,GAAG,GAAGK,GAAG;EACX;EACA;EACA,IAAIN,KAAK,CAACO,IAAI,CAACN,GAAG,EAAEL,IAAI,CAAC,GAAGM,SAAS,EAAE;IACrC,OAAO,EAAE;EACX;EACA;EACA,IAAIM,CAAC,GAAGR,KAAK,CAACG,KAAK,CAAC,CAAC;EACrB,IAAIR,KAAK,CAACC,IAAI,CAAC,EAAE;IACfY,CAAC,GAAGA,CAAC,CAACC,IAAI,CAACb,IAAI,CAAC;IAChBA,IAAI,GAAG,MAAM;EACf,CAAC,MAAM;IACL,IAAIc,KAAK,GAAGF,CAAC,CAACG,OAAO,CAACf,IAAI,CAAC;IAC3B,IAAIc,KAAK,CAACE,QAAQ,CAACZ,KAAK,CAAC,EAAE;MACzBQ,CAAC,GAAGA,CAAC,CAACC,IAAI,CAACb,IAAI,CAAC;IAClB;EACF;EACA;EACA,IAAIiB,MAAM,GAAG,EAAE;EACf,OAAOL,CAAC,CAACI,QAAQ,CAACX,GAAG,CAAC,EAAE;IACtBY,MAAM,CAACC,IAAI,CAACN,CAAC,CAAC;IACdA,CAAC,GAAGA,CAAC,CAACO,GAAG,CAACb,SAAS,EAAEN,IAAI,CAAC;EAC5B;EACA,OAAOiB,MAAM;AACf,CAAC;AACD,eAAed,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}