{"ast":null,"code":"// truncate any sub-millisecond values\nconst parseMs = function (str = '') {\n  str = String(str);\n  //js does not support sub-millisecond values\n  // so truncate these - 2021-11-02T19:55:30.087772\n  if (str.length > 3) {\n    str = str.substring(0, 3);\n  } else if (str.length === 1) {\n    // assume ms are zero-padded on the left\n    // but maybe not on the right.\n    // turn '.10' into '.100'\n    str = str + '00';\n  } else if (str.length === 2) {\n    str = str + '0';\n  }\n  return Number(str) || 0;\n};\nconst parseTime = (s, str = '') => {\n  // remove all whitespace\n  str = str.replace(/^\\s+/, '').toLowerCase();\n  //formal time format - 04:30.23\n  let arr = str.match(/([0-9]{1,2}):([0-9]{1,2}):?([0-9]{1,2})?[:.]?([0-9]{1,4})?/);\n  if (arr !== null) {\n    let [, h, m, sec, ms] = arr;\n    //validate it a little\n    h = Number(h);\n    if (h < 0 || h > 24) {\n      return s.startOf('day');\n    }\n    m = Number(m); //don't accept '5:3pm'\n    if (arr[2].length < 2 || m < 0 || m > 59) {\n      return s.startOf('day');\n    }\n    s = s.hour(h);\n    s = s.minute(m);\n    s = s.seconds(sec || 0);\n    s = s.millisecond(parseMs(ms));\n    //parse-out am/pm\n    let ampm = str.match(/[0-9] ?(am|pm)\\b/);\n    if (ampm !== null && ampm[1]) {\n      s = s.ampm(ampm[1]);\n    }\n    return s;\n  }\n\n  //try an informal form - 5pm (no minutes)\n  arr = str.match(/([0-9]+) ?(am|pm)/);\n  if (arr !== null && arr[1]) {\n    let h = Number(arr[1]);\n    //validate it a little..\n    if (h > 12 || h < 1) {\n      return s.startOf('day');\n    }\n    s = s.hour(arr[1] || 0);\n    s = s.ampm(arr[2]);\n    s = s.startOf('hour');\n    return s;\n  }\n\n  //no time info found, use start-of-day\n  s = s.startOf('day');\n  return s;\n};\nexport default parseTime;","map":{"version":3,"names":["parseMs","str","String","length","substring","Number","parseTime","s","replace","toLowerCase","arr","match","h","m","sec","ms","startOf","hour","minute","seconds","millisecond","ampm"],"sources":["C:/Users/econs/OneDrive/Documents/scalability_frontend/admin-dashboard/node_modules/spacetime/src/input/formats/parseTime.js"],"sourcesContent":["// truncate any sub-millisecond values\nconst parseMs = function (str = '') {\n  str = String(str)\n  //js does not support sub-millisecond values\n  // so truncate these - 2021-11-02T19:55:30.087772\n  if (str.length > 3) {\n    str = str.substring(0, 3)\n  } else if (str.length === 1) {\n    // assume ms are zero-padded on the left\n    // but maybe not on the right.\n    // turn '.10' into '.100'\n    str = str + '00'\n  } else if (str.length === 2) {\n    str = str + '0'\n  }\n  return Number(str) || 0\n}\n\nconst parseTime = (s, str = '') => {\n  // remove all whitespace\n  str = str.replace(/^\\s+/, '').toLowerCase()\n  //formal time format - 04:30.23\n  let arr = str.match(/([0-9]{1,2}):([0-9]{1,2}):?([0-9]{1,2})?[:.]?([0-9]{1,4})?/)\n  if (arr !== null) {\n    let [, h, m, sec, ms] = arr\n    //validate it a little\n    h = Number(h)\n    if (h < 0 || h > 24) {\n      return s.startOf('day')\n    }\n    m = Number(m) //don't accept '5:3pm'\n    if (arr[2].length < 2 || m < 0 || m > 59) {\n      return s.startOf('day')\n    }\n    s = s.hour(h)\n    s = s.minute(m)\n    s = s.seconds(sec || 0)\n    s = s.millisecond(parseMs(ms))\n    //parse-out am/pm\n    let ampm = str.match(/[0-9] ?(am|pm)\\b/)\n    if (ampm !== null && ampm[1]) {\n      s = s.ampm(ampm[1])\n    }\n    return s\n  }\n\n  //try an informal form - 5pm (no minutes)\n  arr = str.match(/([0-9]+) ?(am|pm)/)\n  if (arr !== null && arr[1]) {\n    let h = Number(arr[1])\n    //validate it a little..\n    if (h > 12 || h < 1) {\n      return s.startOf('day')\n    }\n    s = s.hour(arr[1] || 0)\n    s = s.ampm(arr[2])\n    s = s.startOf('hour')\n    return s\n  }\n\n  //no time info found, use start-of-day\n  s = s.startOf('day')\n  return s\n}\nexport default parseTime\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}